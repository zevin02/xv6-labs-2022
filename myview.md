# lazy allocation
sbrk调用完全不会去开辟内存，只需要将p->sz增加到p->sz+n即可,在之后应用程序使用到这个内存，就会触发一个page fault，
>因为我们没有把p->sz+n处分配物理内存，
>此时，我们解析到的是>p->sz,< p->sz+n
>所以我们这个时候才需要内核去分配内存，后重新执行指令

>我们发现当前的地址小于p->sz,同时又大于stack的时候，他就是在heap上的地址
 
* 处理方法
>1. kalloc()开辟一个内存page，物理空间
>2. 将新开辟的物理空间置0
>3. 将出错的va映射到用户的页表中，和其物理地址相对应
>4. 继续执行原来的指令(sepc)

Q：使用lazy alloc应用程序怎么知道已经没有物理内存了(OOM(out of memory))
A: 返回一个杀掉的进程，直接杀掉,一般操作系统也会处理的比较聪明，但是如果实在找不到可以是使用的内存，OS还是会杀掉这个进程

## sbrk
int sbrk(int);
>sbrk里面的参数就是我们需要增加或者减少的字节大小
>sbrk的返回值就是在调用sbrk改变内存空间大小之前的内存字节数



